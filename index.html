<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chúc Mừng Ngày Phụ Nữ Việt Nam 20/10</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            overflow: hidden; /* Hide scrollbars */
        }
        .font-handwriting {
            font-family: 'Great Vibes', cursive;
        }
        #falling-petals-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1; /* Behind content initially */
        }
        /* Envelope styles */
        #envelope-wrapper {
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        #envelope-wrapper:hover {
            transform: scale(1.05);
        }
        .envelope {
            position: relative;
            width: 300px;
            height: 200px;
            background-color: #f0d9e5;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100px;
            background-color: #e8c5d9;
            clip-path: polygon(0 0, 100% 0, 50% 100%);
            transform-origin: top;
            transition: transform 0.5s ease-in-out;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
        }
        .heart {
            position: absolute;
            top: 45%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            background-color: #e91e63;
            clip-path: path('M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z');
        }
        /* Animation when opened */
        #envelope-wrapper.opened .flap {
            transform: rotateX(180deg);
        }
        #envelope-wrapper.opened {
            animation: fade-out 1s forwards 0.5s;
        }
        #card-container {
            opacity: 0;
            transform: scale(0.8);
            pointer-events: none;
            transition: opacity 1s ease-in-out 1s, transform 1s ease-in-out 1s;
        }
        #card-container.visible {
            opacity: 1;
            transform: scale(1);
            pointer-events: auto;
        }
        @keyframes fade-out {
            from { opacity: 1; }
            to { opacity: 0; }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-pink-200 to-purple-300 flex items-center justify-center min-h-screen">
    <canvas id="falling-petals-canvas"></canvas>

    <!-- Envelope -->
    <div id="envelope-wrapper" class="text-center">
        <div class="envelope">
            <div class="flap"></div>
            <div class="heart"></div>
        </div>
        <p class="mt-6 text-xl text-white font-semibold animate-pulse">Nhấn vào để mở</p>
    </div>

    <!-- Greeting Card (initially hidden) -->
    <main id="card-container" class="absolute p-4">
        <div class="bg-white/70 backdrop-blur-md rounded-2xl shadow-2xl p-8 max-w-2xl w-full text-center">
            <h1 class="font-handwriting text-5xl md:text-7xl text-pink-600 mb-4">
                Gửi Em, baby của anh
            </h1>
            <h2 class="text-xl md:text-2xl font-bold text-purple-700 mb-6">
                Chúc Mừng Ngày 20/10
            </h2>
            <div class="w-24 h-1 bg-pink-400 mx-auto rounded-full mb-8"></div>
            <p class="text-gray-700 text-lg md:text-xl leading-relaxed">
                Nhân ngày đặc biệt này, anh muốn gửi đến em tất cả những lời chúc ngọt ngào và dịu dàng nhất. Cảm ơn em đã đến bên anh, tô điểm cho cuộc sống của anh thêm rực rỡ và tràn đầy ý nghĩa.
            </p>
            <p class="text-gray-700 text-lg md:text-xl leading-relaxed mt-4">
                Chúc em yêu của anh luôn xinh đẹp, rạng ngời và hạnh phúc, không chỉ hôm nay mà còn mãi mãi về sau. Với anh, em là bông hoa đẹp nhất.
            </p>
            <div class="mt-10">
                <p class="font-handwriting text-4xl text-pink-500">Yêu em rất nhiều!</p>
            </div>
        </div>
    </main>

    <script>
        const canvas = document.getElementById('falling-petals-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        let petals = [];
        let animationFrameId;

        // --- Event Listeners ---
        const envelopeWrapper = document.getElementById('envelope-wrapper');
        const cardContainer = document.getElementById('card-container');

        envelopeWrapper.addEventListener('click', () => {
            envelopeWrapper.classList.add('opened');
            
            setTimeout(() => {
                envelopeWrapper.style.display = 'none';
                cardContainer.classList.add('visible');
                // Make canvas visible and start animation
                canvas.style.zIndex = '9999'; 
                startPetalAnimation();
            }, 500); // Start fading in card after flap animation
        });

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            petals = [];
        });

        // --- Petal Animation Logic ---
        function createPetal() {
            const x = Math.random() * canvas.width;
            const y = -10;
            const size = Math.random() * 5 + 3;
            const speed = Math.random() * 2 + 1;
            const sway = Math.random() * 0.5 - 0.25;
            const color = `rgba(255, 182, 193, ${Math.random() * 0.5 + 0.5})`;
            petals.push({ x, y, size, speed, sway, color });
        }

        function drawPetals() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            petals.forEach((petal, index) => {
                ctx.beginPath();
                ctx.fillStyle = petal.color;
                ctx.ellipse(petal.x, petal.y, petal.size, petal.size / 2, Math.PI / 4, 0, 2 * Math.PI);
                ctx.fill();

                petal.y += petal.speed;
                petal.x += petal.sway;

                if (petal.y > canvas.height) {
                    petals.splice(index, 1);
                }
            });
        }

        function animate() {
            if (Math.random() > 0.95) {
                 createPetal();
            }
            drawPetals();
            animationFrameId = requestAnimationFrame(animate);
        }

        function startPetalAnimation() {
            if (!animationFrameId) {
                animate();
            }
        }
    </script>
</body>
</html>

